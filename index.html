<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz Culture G√©n√©rale ‚Ä¢ 2026</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
 <link rel="icon" type="image/png" sizes="32x32" href="logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="logo.png">
  <style>
    :root {
      --bg: #0f172a;
      --card: rgba(30, 41, 59, 0.65);
      --text: #e2e8f0;
      --text-muted: #94a3b8;
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --correct: #22c55e;
      --wrong: #ef4444;
      --border: rgba(255,255,255,0.08);
      --blur: blur(16px);
      --radius: 1.25rem;
      --shadow: 0 10px 30px -10px rgba(0,0,0,0.4);
    }



    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--text);
      min-height: 100vh;
      padding: 1.5rem;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-x: hidden;
   
  padding-top: 80px;   /* ou 90px selon la hauteur r√©elle */

    }

    .container {
      background: var(--card);
      backdrop-filter: var(--blur);
      -webkit-backdrop-filter: var(--blur);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 2.5rem 2rem;
      width: 100%;
      max-width: 620px;
      box-shadow: var(--shadow);
      animation: fadeIn 0.8s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    h1 {
      font-size: 1.4rem;
      font-weight: 700;
      text-align: center;
      background: linear-gradient(90deg, #a5b4fc, #c084fc);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 2rem;
      letter-spacing: -0.5px;
    }
    .logo {
  width: clamp(5px, 6vw, 30px);
  border-radius: 50%;
  border: 2px solid #000000;
  float: left; /* Ajoute cette ligne pour positionner le logo √† gauche */
  margin-right: 15px; /* Optionnel : ajoute un peu d'espace √† droite du logo */
}

    .score {
      text-align: center;
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 2rem;
      color: var(--text);
    }

    .score span {
      color: var(--primary);
    }

    .question {
      font-size: 1.4rem;
      line-height: 1.5;
      font-weight: 500;
      margin-bottom: 2.2rem;
      text-align: center;
      color: #f1f5f9;
    }

    .options {
      display: grid;
      gap: 1rem;
      margin-bottom: 2.5rem;
    }

    .option {
      background: rgba(51, 65, 85, 0.4);
      border: 1px solid var(--border);
      backdrop-filter: blur(8px);
      padding: 1.1rem 1.4rem;
      border-radius: 1rem;
      cursor: pointer;
      transition: all 0.28s ease;
      font-size: 1.08rem;
      color: var(--text);
      position: relative;
      overflow: hidden;
    }

    .option::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(99,102,241,0.12), transparent);
      opacity: 0;
      transition: opacity 0.4s;
      pointer-events: none;
    }

    .option:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px -8px rgba(99,102,241,0.25);
      border-color: rgba(99,102,241,0.4);
    }

    .option:hover::before { opacity: 1; }

    .option.selected {
      background: rgba(99,102,241,0.22);
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99,102,241,0.18);
    }

    .option.correct {
      background: rgba(34,197,94,0.22);
      border-color: var(--correct);
      box-shadow: 0 0 0 3px rgba(34,197,94,0.18);
    }

    .option.wrong {
      background: rgba(239,68,68,0.22);
      border-color: var(--wrong);
      box-shadow: 0 0 0 3px rgba(239,68,68,0.18);
    }

    button {
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      color: white;
      border: none;
      padding: 1rem 2.5rem;
      font-size: 1.15rem;
      font-weight: 600;
      border-radius: 3rem;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      max-width: 280px;
      margin: 0 auto;
      display: block;
      box-shadow: 0 8px 20px -6px rgba(99,102,241,0.4);
    }

    button:hover {
      transform: translateY(-3px) scale(1.03);
      box-shadow: 0 12px 28px -6px rgba(99,102,241,0.55);
    }

    button:disabled {
      background: #475569;
      transform: none;
      box-shadow: none;
      opacity: 0.6;
      cursor: not-allowed;
    }

    .category-select {
      margin: 2rem 0;
      text-align: center;
    }

    select {
      background: rgba(51,65,85,0.5);
      color: var(--text);
      border: 1px solid var(--border);
      padding: 0.9rem 1.3rem;
      font-size: 1.05rem;
      border-radius: 1rem;
      width: 100%;
      max-width: 320px;
      backdrop-filter: blur(10px);
      appearance: none;
      cursor: pointer;
    }

    select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99,102,241,0.2);
    }

    .loading {
      text-align: center;
      font-size: 1.4rem;
      color: var(--text);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%,100% { opacity: 0.6; }
      50%     { opacity: 1; }
    }

    @media (max-width: 500px) {
      .container { padding: 1.8rem 1.4rem; }
      h1 { font-size: 2rem; }
      .question { font-size: 1.25rem; }
    }
  </style>
</head>
<body>
<header style="
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  background: rgba(15, 23, 42, 0.75);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  padding: 1.1rem 1rem;
  text-align: center;
  font-size: 1.4rem;
  font-weight: 700;
  letter-spacing: 1px;
  color: #cbd5e1;
  box-shadow: 0 4px 16px rgba(0,0,0,0.25);
">
   <div><img src="logo.png" alt="Logo AMIN KARZAZI" class="logo" /></div>
Quiz Culture G√©n√©rale
</header>
<div class="container" id="app">

  <h1> Choisis une cat√©gorie</h1>

  <div class="category-select" id="start-screen">
    <p style="margin-bottom: 1.2rem; color: var(--text-muted); font-size: 1.1rem;">
      
    </p>
    <select id="category">
      <option value="">Toutes les cat√©gories</option>
      <option value="9">Connaissances g√©n√©rales</option>
      <option value="10">Livres</option>
      <option value="11">Films</option>
      <option value="12">Musique</option>
      <option value="17">Science & Nature</option>
      <option value="18">Informatique</option>
      <option value="19">Math√©matiques</option>
      <option value="21">Sport</option>
      <option value="22">G√©ographie</option>
      <option value="23">Histoire</option>
      <option value="24">Politique</option>
      <option value="25">Art</option>
    </select>
    <br><br>
    <button id="startBtn">D√©marrer le quiz</button>
  </div>

  <div id="quiz" style="display:none;">
    <div class="score">Score : <span id="score">0</span> / <span id="total">0</span></div>
    
    <div class="question" id="question"></div>
    
    <div class="options" id="options"></div>
    
    <button id="nextBtn" disabled>Suivant ‚Üí</button>
  </div>

  <div id="loading" class="loading" style="display:none;">Chargement des questions...</div>

</div>

<script>
const API_BASE = "https://opentdb.com/api.php?amount=10&type=multiple";
let questions = [];
let currentQuestion = 0;
let score = 0;
let selectedAnswer = null;

const startScreen = document.getElementById("start-screen");
const quizScreen   = document.getElementById("quiz");
const loading      = document.getElementById("loading");
const startBtn     = document.getElementById("startBtn");
const nextBtn      = document.getElementById("nextBtn");
const categorySelect = document.getElementById("category");

startBtn.addEventListener("click", startQuiz);
nextBtn.addEventListener("click", nextQuestion);

async function startQuiz() {
  const category = categorySelect.value;
  let url = API_BASE;
  if (category) url += `&category=${category}`;

  startScreen.style.display = "none";
  loading.style.display = "block";

  try {
    const res = await fetch(url);
    const data = await res.json();

    if (data.response_code !== 0) {
      alert("Erreur lors du chargement des questions. R√©essaie !");
      location.reload();
      return;
    }

    questions = data.results.map(q => ({
      question: decodeHTML(q.question),
      correct: decodeHTML(q.correct_answer),
      answers: shuffle([
        decodeHTML(q.correct_answer),
        ...q.incorrect_answers.map(decodeHTML)
      ])
    }));

    loading.style.display = "none";
    quizScreen.style.display = "block";
    currentQuestion = 0;
    score = 0;
    showQuestion();

  } catch (err) {
    alert("Impossible de charger les questions.\nV√©rifie ta connexion.");
    loading.style.display = "none";
    startScreen.style.display = "block";
  }
}

function showQuestion() {
  const q = questions[currentQuestion];
  document.getElementById("question").innerHTML = q.question;
  document.getElementById("score").textContent = score;
  document.getElementById("total").textContent = questions.length;

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  q.answers.forEach(answer => {
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = answer;
    div.addEventListener("click", () => selectAnswer(div, answer));
    optionsDiv.appendChild(div);
  });

  nextBtn.disabled = true;
  selectedAnswer = null;
}

function selectAnswer(element, answer) {
  if (selectedAnswer) return; // d√©j√† r√©pondu

  selectedAnswer = answer;

  // D√©s√©lectionne les autres
  document.querySelectorAll(".option").forEach(opt => {
    opt.classList.remove("selected");
  });

  element.classList.add("selected");
  nextBtn.disabled = false;
}

function nextQuestion() {
  const q = questions[currentQuestion];
  const isCorrect = selectedAnswer === q.correct;

  if (isCorrect) score++;

  // Montre la bonne r√©ponse
  document.querySelectorAll(".option").forEach(opt => {
    const text = opt.textContent;
    opt.classList.remove("selected");

    if (text === q.correct) {
      opt.classList.add("correct");
    } else if (text === selectedAnswer && !isCorrect) {
      opt.classList.add("wrong");
    }

    opt.style.pointerEvents = "none";
  });

  currentQuestion++;

  if (currentQuestion >= questions.length) {
    setTimeout(endQuiz, 1800);
  } else {
    setTimeout(() => {
      showQuestion();
    }, 1800);
  }
}

function endQuiz() {
  alert(`Quiz termin√© !\nTon score : ${score} / ${questions.length}\n${getComment(score, questions.length)}`);
  location.reload();
}

function getComment(score, total) {
  const percent = Math.round((score / total) * 100);
  if (percent >= 90) return "üåü Excellent ! Tu es incollable !";
  if (percent >= 70) return "üëè Tr√®s bon niveau !";
  if (percent >= 50) return "Pas mal du tout üòâ";
  return "Continue de t'entra√Æner, tu vas progresser ! üí™";
}

function decodeHTML(html) {
  const txt = document.createElement("textarea");
  txt.innerHTML = html;
  return txt.value;
}

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
</script>
  <footer style="
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  text-align: center;
  padding: 1rem;
  background: rgba(30, 41, 59, 0.8);           /* ‚Üê sombre + transparence */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  color: #cbd5e1;
  border-top: 1px solid rgba(255,255,255,0.08);
  font-size: 0.95rem;
  z-index: 10;
  box-shadow: 0 -4px 15px rgba(0,0,0,0.3);     /* ‚Üê petit effet d'√©l√©vation */
">
  ¬© 2026 AMIN KARZAZI - All rights reserved
</footer>
</body>

</html>














